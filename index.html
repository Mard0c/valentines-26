<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dear Moonbear</title>

        <style>
            html,
            body {
                margin: 0;
                display: flex; /* Aligns children side-by-side */
                height: 100vh; /* Full viewport height */
                width: 100vw;
                overflow: hidden; /* Prevents unwanted scrollbars */
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                background: #fff;
            }

            /*body {
                display: flex;
                align-items: center;
                justify-content: center;
            }*/

            .dialog {
                text-align: center;
                padding: 1.5rem 2rem;
                border-radius: 8px;
                flex: 1; /* This "fills" the remaining space */
                display: flex;
                justify-content: center; /* Centers the dialog horizontally in the new space */
                align-items: center; /* Centers the dialog vertically */
                /*background-color: #f4f4f4;*/
                /*box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);*/
            }
            .dialog p {
                /*color: purple;*/
                font-size: 20px;
                text-align: center;
                margin: 0 auto;
                font-style: italic;
            }
            .dialog button {
                /* Remove default styling */
                background: none;
                border: none;
                padding: 0;
                margin: 0;
                cursor: pointer;

                /* Ensure the SVG stays centered and behaves well */
                display: inline-flex;
                align-items: center;
                justify-content: center;

                /* Optional: removes the default blue outline on click,
                     but keep it for accessibility (focus) if possible! */
                outline: inherit;
            }
            /*#button-container {
                position: relative;
                height: 50px;
                margin-top: 20px;
                overflow: visible;
            }*/

            #no {
                position: absolute;
                top: 55%;
                left: 65%;
            }
            #yes {
                position: absolute;
                top: 55%;
                left: 75%;
            }

            #cute1 {
                flex-shrink: 0;
                height: 100vh; /* Full height as requested */
                width: auto; /* Keeps aspect ratio */
                display: block;
            }
        </style>
    </head>
    <body>
        <img id="cute1" src="cute1.jpeg" alt="us being cute" />
        <div class="dialog">
            <p>My dearest Moonbear, will you be my valentine?</p>
            <div id="button-container">
                <button id="yes">
                    <div style="width: 40px">
                        <svg
                            viewBox="0 0 106.14452 102.74745"
                            version="1.1"
                            id="svg1"
                            xml:space="preserve"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:svg="http://www.w3.org/2000/svg"
                        >
                            <defs id="defs1" />
                            <g
                                id="layer1"
                                transform="translate(-51.927739,-82.202698)"
                            >
                                <path
                                    style="fill: #fa415a"
                                    d="m 106.53362,184.13151 c -9.187218,-7.39265 -17.551238,-15.11216 -25.693408,-23.71352 -5.79216,-6.11883 -11.609736,-12.94701 -16.88767,-19.82133 -4.372521,-5.69506 -6.774241,-9.28239 -8.587777,-12.82715 -1.952976,-3.81731 -2.981171,-7.07759 -3.37707,-10.70828 -0.08032,-0.73657 -0.07981,-3.41708 7.83e-4,-4.14661 0.454184,-4.11123 2.145519,-7.95712 5.01987,-11.41457 0.618236,-0.74365 2.369854,-2.493434 3.121807,-3.118524 2.953535,-2.45527 6.29111,-4.24346 9.822351,-5.26257 4.852486,-1.40042 9.606856,-1.31658 14.419166,0.25427 3.79164,1.23769 7.39436,3.35302 10.54899,6.19384 0.63208,0.569204 2.11792,2.062254 2.6492,2.662064 2.28618,2.58103 4.275708,5.6464 5.687498,8.76298 1.19851,2.64576 1.97313,5.11756 2.55641,8.15743 0.028,0.14609 0.0573,0.25887 0.0651,0.25062 0.008,-0.008 0.12021,-0.42511 0.24988,-0.92635 2.07705,-8.02902 3.23154,-11.80143 4.79713,-15.67509 0.70461,-1.74338 1.65045,-3.759834 2.41311,-5.144514 2.67381,-4.8546 6.07962,-8.65243 10.27207,-11.454425 3.31632,-2.21642 6.87032,-3.54704 10.52015,-3.93874 0.81974,-0.088 3.11863,-0.0737 3.91877,0.0243 2.16629,0.26534 4.04147,0.80768 5.92373,1.71326 3.953,1.90184 7.30293,5.090995 9.93574,9.458865 0.45925,0.7619 1.4296,2.68036 1.78881,3.53662 1.20448,2.87112 1.91134,5.606054 2.24813,8.698164 0.11955,1.09764 0.1643,3.57416 0.0887,4.9071 -0.27631,4.86984 -1.45815,9.83806 -3.61834,15.21079 -1.78569,4.4413 -4.20289,9.11489 -7.85975,15.19664 -3.89284,6.47421 -8.09921,11.9371 -14.31521,18.59139 -2.05238,2.19711 -3.8021,3.98196 -7.70244,7.85714 -10.08392,10.01887 -12.72281,12.73683 -16.15127,16.6352 -0.39673,0.45111 -0.73684,0.83756 -0.75579,0.85876 -0.019,0.0212 -0.51333,-0.34678 -1.09862,-0.81774 z"
                                    id="path1"
                                />
                            </g>
                        </svg>
                    </div>
                </button>
                <button id="no">
                    <div style="width: 15px">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 525 600"
                            version="1.0"
                        >
                            <path
                                stroke="#000"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M15.55 499.24c0-9.36 33.71-56.32 74.91-104.36 41.2-48.04 80.9-94.69 88.23-103.66 7.33-8.97-.28-61.05-16.91-115.73-34.46-113.27-37.6-150.94-13.82-165.64 32.51-20.09 77.12 9.6 114.57 76.22l37.94 67.5 71.24-69.92C418.56 37.68 452 17.2 469.36 23.86c34.34 13.18 54.16 64.75 28.2 73.4-29.45 9.82-151.38 195.37-151.15 230.03.1 16.41 17.43 59.98 38.5 96.8 14.86 25.99 34.83 46.48 26.9 60.58l-42.38 75.32c-8.22 14.6-38.58-24.34-74.55-62.15l-62.73-65.95-69.56 82.48c-38.25 45.37-73.96 82.25-79.36 81.97-5.4-.29-67.68-87.75-67.68-97.1z"
                            />
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </body>
    <script>
        const yesButton = document.getElementById("yes");

        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;

        document.addEventListener("mousemove", (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        let yesAttractionEnabled = false;

        // Enable attraction after 20 seconds
        setTimeout(() => {
            yesAttractionEnabled = true;
        }, 3000);

        function attractYes() {
            if (!yesAttractionEnabled) return;

            const rect = yesButton.getBoundingClientRect();

            const buttonX = rect.left + rect.width / 2;
            const buttonY = rect.top + rect.height / 2;

            const dx = mouseX - buttonX;
            const dy = mouseY - buttonY;

            const distance = Math.hypot(dx, dy) || 1;

            // Normalize direction
            const nx = dx / distance;
            const ny = dy / distance;

            let attractionStrength = 0.4;
            if (distance < 60) {
                attractionStrength = 25; // Dramatic increase
            }

            let newLeft = rect.left + nx * attractionStrength;
            let newTop = rect.top + ny * attractionStrength;

            // Keep on screen
            const padding = 10;
            newLeft = Math.max(
                padding,
                Math.min(window.innerWidth - rect.width - padding, newLeft),
            );
            newTop = Math.max(
                padding,
                Math.min(window.innerHeight - rect.height - padding, newTop),
            );

            yesButton.style.left = `${newLeft}px`;
            yesButton.style.top = `${newTop}px`;
        }

        // Run attraction loop
        setInterval(attractYes, 16); // ~60fps
    </script>
    <script>
        const noButton = document.getElementById("no");

        let lastMouseX = 0;
        let lastMouseY = 0;

        document.addEventListener("mousemove", (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;

            const velocityX = mouseX - lastMouseX;
            const velocityY = mouseY - lastMouseY;

            lastMouseX = mouseX;
            lastMouseY = mouseY;

            const rect = noButton.getBoundingClientRect();
            const buttonX = rect.left + rect.width / 2;
            const buttonY = rect.top + rect.height / 2;

            const dx = buttonX - mouseX;
            const dy = buttonY - mouseY;
            const distance = Math.hypot(dx, dy);

            const dangerRadius = 100;

            if (distance < dangerRadius) {
                // Normalize mouse velocity
                const mag = Math.hypot(velocityX, velocityY) || 1;
                const vx = velocityX / mag;
                const vy = velocityY / mag;

                // Move opposite of mouse velocity
                const escapeStrength = 30;

                let newLeft = rect.left - vx * escapeStrength;
                let newTop = rect.top - vy * escapeStrength;

                // Keep button on screen
                const padding = 10;

                const limitX = Math.min(
                    window.innerWidth - rect.width - padding,
                    newLeft,
                );
                const limitY = Math.min(
                    window.innerHeight - rect.height - padding,
                    newLeft,
                );
                newLeft = Math.max(padding, limitX);
                newTop = Math.max(padding, limitY);

                noButton.style.left = `${newLeft}px`;
                noButton.style.top = `${newTop}px`;
            }
        });
    </script>
</html>
